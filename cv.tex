% !TEX TS-program = lualatex

\documentclass[a4paper,10pt]{article}

\usepackage[usenames,dvipsnames]{xcolor}
\usepackage{libertine}
\usepackage{fontawesome5}
\usepackage{array}
\usepackage{longtable}
\setlength{\LTpost}{0pt}
\usepackage{parskip}
\usepackage[cm]{fullpage}

% headers and footers
\usepackage{fancyhdr}
\usepackage{lastpage}
% set release number (default if not provided)
\ifdefined\releasenumber
  \def\getreleaseversion{\releasenumber}
\else
  \def\getreleaseversion{undefined}
\fi
% set release url (default if not provided)
\ifdefined\releaseurl
  \def\getreleaseurl{\releaseurl}
\else
  \def\getreleaseurl{https://github.com/marco-duinkerken/cv/releases/}
\fi
\pagestyle{fancy}
\fancyfoot[L]{Marco~Duinkerken}
\fancyfoot[C]{Page~\thepage~of~\pageref*{LastPage}}
\fancyfoot[R]{Release \href{\getreleaseurl}{\getreleaseversion}~--~\today}
\renewcommand{\footrulewidth}{0.4pt}% default is 0pt
\fancyhead{}
\renewcommand{\headrulewidth}{0pt}

% StackOverflow-like tags
% https://tex.stackexchange.com/a/311949/142692
% https://tex.stackexchange.com/questions/387499/how-to-create-a-border-that-looks-like-a-tag
\usepackage{tikz}
\ifdefined\darkmode
  \definecolor{tagbg-blue}{RGB}{120,180,240}
  \definecolor{tagbg-green}{RGB}{120,240,180}
  \definecolor{tagtxt-blue}{RGB}{0,0,0.1}
  \definecolor{tagtxt-green}{RGB}{0,0.1,0}
\else
  \definecolor{tagbg-blue}{RGB}{225,236,244}
  \definecolor{tagbg-green}{RGB}{225,244,235}
  \definecolor{tagtxt-blue}{RGB}{88,115,159}
  \definecolor{tagtxt-green}{RGB}{87,158,122}
\fi
\newcommand{\sotag}[1]{\tikz[baseline]{\node[anchor=base, rounded corners=0.5ex, text height=1.5ex, text depth=.25ex, fill=tagbg-blue, draw=tagbg-blue, text=tagtxt-blue] {#1};}}
\newcommand{\sotagarch}[1]{\tikz[baseline]{\footnotesize\node[anchor=base, inner sep=2pt, rounded corners=0.5ex, text height=1.5ex, text depth=.25ex, fill=tagbg-green, draw=tagbg-green, text=tagtxt-green] {#1};}}
\newcommand{\sotagtech}[1]{\tikz[baseline]{\footnotesize\node[anchor=base, inner sep=2pt, rounded corners=0.5ex, text height=1.5ex, text depth=.25ex, fill=tagbg-blue, draw=tagbg-blue, text=tagtxt-blue] {#1};}}

% Helpers for adding job entries
\usepackage[english]{babel}
\usepackage[autostyle=try]{csquotes}
\usepackage[en-GB,calc,useregional,useregional=numeric,datesep=/]{datetime2}
\DTMnewdatestyle{shortmonth}{%
 \renewcommand{\DTMdisplaydate}[4]{%
  \DTMshortmonthname{##2} \number##1 }%
 \renewcommand{\DTMDisplaydate}{\DTMdisplaydate}%
}
\newcommand{\displayshortmonth}[1]{%
{% group actions
  \DTMsetdatestyle{shortmonth}%
  \DTMsavedate{mydate}{#1}\DTMUsedate{mydate}%
}%
}%
\newcount\datediffdays%
\newcounter{diffdays}
\newcommand{\setdatediffdays}[2]{%
  \DTMsavedate{startdate}{#1}%
  \DTMsavedate{enddate}{#2}%
  \DTMsaveddatediff{enddate}{startdate}{\datediffdays}%
  \setcounter{diffdays}{\number\datediffdays}%
  \ifnum\value{diffdays}<0
    \setcounter{diffdays}{-\value{diffdays}}%
  \fi
}
\newcommand{\displaydaysdiff}[2]{%
  \setdatediffdays{#1}{#2}%
  \thediffdays\space day\ifnum\value{diffdays}>1s
}
\usepackage{calc}
\newcounter{diffyears}
\newcounter{diffmonths}
\newcommand{\displaymonthsdiff}[2]{%
  \setdatediffdays{#1}{#2}%
  \setcounter{diffyears}{\value{diffdays}/\real{365.25}}%
  \setcounter{diffdays}{\value{diffdays}-\value{diffyears}*\real{365.25}}%
  \setcounter{diffmonths}{\value{diffdays}/\real{30.43}}%
  \setcounter{diffdays}{\value{diffdays}-\value{diffmonths}*\real{30.43}}%
  %
  \ifnum\value{diffyears}=0
  \else
    \thediffyears\space year\ifnum\value{diffyears}>1s\fi
    \ifnum\value{diffmonths}>0, \fi
  \fi
  \ifnum\value{diffmonths}=0
  \else
    \thediffmonths\space month\ifnum\value{diffmonths}>1s\fi
  \fi
}
\newcommand{\displayyearsdiff}[2]{%
  \setdatediffdays{#1}{#2}%
  \setcounter{diffyears}{\value{diffdays}/\real{365.25}}%
  \ifnum\value{diffyears}=0
  \else
    \thediffyears\space year\ifnum\value{diffyears}>1s\fi
    \ifnum\value{diffmonths}>0, \fi
  \fi
}
\usepackage{makecell}
\newcommand{\joblog}[7]{
  \makecell[tr]{%
    \textsc{\displayshortmonth{#4}}%
    \setdatediffdays{#5}{\DTMfetchyear{now}-\DTMfetchmonth{now}-\DTMfetchday{now}}%
    \,\faLongArrowAltRight{}%
    \ifnum\value{diffdays}=0%
      \textbf{\textit{Present}}%
    \else%
      \textsc{\displayshortmonth{#5}}%
    \fi\smallskip\\%
    \textit{(\displaymonthsdiff{#4}{#5})}%
  }%
  &\makecell[t{{p{14cm}}}]{%
    \large\sffamily \textbf{#1} at \textbf{#2}, \small{#3}\smallskip\\%
    \ifx&#7&%
    \else%
      #7\smallskip\\%
    \fi%
    #6%
  }\\\multicolumn{2}{c}{}\\
}

\DTMsavenow{now}
\newcommand{\joblogcurrent}[5]{\joblog{#1}{#2}{#3}{#4}{\DTMfetchyear{now}-\DTMfetchmonth{now}-\DTMfetchday{now}}{#5}}
\newcommand{\displayage}[1]{\displayyearsdiff{#1}{\DTMfetchyear{now}-\DTMfetchmonth{now}-\DTMfetchday{now}} old}

% tweak the url colors
\usepackage{hyperref}
\ifdefined\darkmode
  \definecolor{linkcolor}{rgb}{0.6,0.8,1}
\else
  \definecolor{linkcolor}{rgb}{0,0.2,0.6}
\fi
\hypersetup{colorlinks,breaklinks,urlcolor=linkcolor,linkcolor=linkcolor}

% nicer-looking section titles
\usepackage{titlesec}
\titleformat{\section}{\Large\scshape\raggedright}{}{0em}{}[\titlerule]
\titlespacing{\section}{%
  0pt}{%left margin
  1em}{%space before (vertical)
  3pt}%space after (horizontal)
  
\renewcommand{\arraystretch}{1.3}
\ifdefined\darkmode
  \definecolor{darkergray}{gray}{0.15}
  \pagecolor{darkergray}
  \color{white}
\fi
\begin{document}

\par{
  \centering{
    \Huge \textsc{Marco Duinkerken}\par
  %   \large \textsc{Data & Analytics Consultant}\par
  %   \small \textsc{(\displayage{1990-09-20})}\par
  %   \textsc{Data is gold but often looks awful. I am passionate about using technology\linebreak
  %   to making it accessible and beautifully shaped to maximize business efficiency.}\par
  % }
  \bigskip\par
}}

\hrule
\vspace{0.5em}

\begin{tabular}{r|l}
  \textsc{Contact} 
  & \faLinkedin{} \href{https://www.linkedin.com/in/marco-duinkerken/}{linkedin}\\
  & \faGithub{} \href{https://github.com/marco-duinkerken}{github}
\end{tabular}

\section{Employment history}
\begin{longtable}{p{3.2cm}|p{14.1cm}}
  \joblogcurrent{Freelance Data \& Analytics Consultant}{Dewpoint}{Amsterdam, NL}{2020-08-19}{%
  %
  }{}

  \joblog{Data \& Analytics Consultant}{Avanade}{Utrecht, NL}{2017-04-01}{2020-03-31}{%
  %
  }{}

  \joblog{Working student}{Generali Verzekeringen}{Diemen, NL}{2014-05-01}{2017-03-31}{%
  %
  }{}
\end{longtable}

\section{Education}
\begin{longtable}{p{3.2cm}|p{14.1cm}}
  \joblog{Master of Science: Information Studies}{University of Amsterdam}{Amsterdam, NL}{2015-09-01}{2017-06-30}{
  }{}

  \joblog{Bachelor of ICT: IT Management}{Amsterdam University of Applied Sciences}{Amsterdam, NL}{2011-09-01}{2015-06-30}{
  }{}  
\end{longtable}

\newpage

\section{Professional experience}
\begin{longtable}{p{3.2cm}|p{14.1cm}}
  \joblog{Project manager}{International Financial Institution}{Luxembourg, LU}{2023-09-30}{2024-01-31}
  {}
  {\sotagtech{Data Catalog}}

  \joblog{Solution Architect}{SaaS Company}{Flemish region, BE}{2023-02-01}{2023-09-30}
  {}
  {\sotagarch{Data Platform Architecture} \sotagtech{Snowflake} \sotagtech{dbt cloud} \sotagtech{Fivetran} \sotagtech{Terraform Cloud} \sotagtech{GitHub} \sotagtech{Azure Keyvault} \sotagtech{PowerBI}}

  \joblog{Consultant}{FMCG}{Salzburg, AUT}{2023-09-30}{2024-01-31}
  {}
  {\sotagtech{Data Catalog}}

  \joblog{Consultant}{Manufacturer}{Paris, FR}{2022-11-30}{2023-09-30}
  {}
  {\sotagtech{Data Catalog}}

  \joblog{Consultant}{Portuguese Telco}{Lisbon, PT}{2022-05-01}{2022-09-30}
  {}
  {\sotagarch{Data Mesh} \sotagtech{Collibra} \sotagtech{Google BigQuery} \sotagtech{Google Cloud Engine} \sotagtech{Google Dataplex DQ} \sotagtech{Terraform} \sotagtech{Flowable}}

  \joblog{Consultant}{Utilities}{Arnhem, NL}{2022-05-01}{2022-07-31}
  {}
  {\sotagtech{Data Catalog}}

  \joblog{Consultant}{Global Telco}{Paris, FR}{2021-06-01}{2022-07-31}
  {}
  {\sotagtech{Data Catalog}}
    
  \joblog{Consultant}{German Telco}{DÃ¼sseldorf, DE}{2021-06-01}{2022-02-28}
  {}
  {\sotagarch{Data Governance Architecture} \sotagtech{Collibra} \sotagtech{AB Initio MHub} \sotagtech{Google Cloud Platform}}

  \joblog{Consultant}{Belgian Telco}{Brussels, BE}{2020-08-30}{2021-06-30}
  {}
  {\sotagtech{Collibra} \sotagtech{REST API} \sotagtech{Swagger} \sotagtech{SOAP UI}}

  \joblog{Consultant}{Utilities}{Arnhem, NL}{2019-02-01}{2020-02-28}
  {}
  {\sotagarch{Data Quality}}

  \joblog{Consultant}{Manufacturer}{Gothenburg, SE}{2018-04-01}{2019-01-31}
  {}
  {\sotagtech{IOT}}

  \joblog{Consultant}{Brewery}{Zoeterwoude, NL}{2018-02-01}{2018-03-31}
  {}
  {\sotagtech{Deep Learning}}

  \joblog{Consultant}{Brewery}{Zoeterwoude, NL}{2017-09-01}{2018-01-31}
  {}
  {\sotagtech{Data Migration}}

  \joblog{Consultant}{Brewery}{Zoeterwoude, NL}{2017-04-01}{2017-08-31}
  {}
  {\sotagtech{Machine Learning}}
\end{longtable}

\section{Languages}
\begin{tabular}{r|l}
  \textsc{Dutch}& Native proficiency\\
  \textsc{Dutch}& Professional working proficiency
\end{tabular}

\end{document}